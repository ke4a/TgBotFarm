FROM node:20-alpine

# Install localtunnel globally
RUN npm install -g localtunnel

# Set working directory
WORKDIR /app

# Create a non-root user
RUN addgroup -g 1001 -S ltuser && \
    adduser -S ltuser -u 1001

USER ltuser

# Default command (can be overridden in docker-compose)
ENTRYPOINT ["lt"]